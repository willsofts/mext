(function(a){a.fn.addOption=function(){var l=function(q,y,A,w,x){var u=document.createElement("option");u.value=y,u.text=A;var p=q.options;var n=p.length;if(!q.cache){q.cache={};for(var s=0;s<n;s++){q.cache[p[s].value]=s}}if(x||x==0){var m=u;for(var z=x;z<=n;z++){var r=q.options[z];q.options[z]=m;p[z]=m;q.cache[p[z].value]=z;m=r}}if(typeof q.cache[y]=="undefined"){q.cache[y]=n}q.options[q.cache[y]]=u;if(w){u.selected=true}};var c;var i=arguments;if(i.length==0){return this}var g=true;var e=false;var d=false;var h,j,k;if(typeof(i[0])=="object"){e=true;h=i[0];c=i[0]}if(jQuery.isArray(i[0])){d=true;h=i[0];c=0}if(i.length>=2){if(typeof(i[1])=="boolean"){g=i[1];c=i[2]}else{if(typeof(i[2])=="boolean"){g=i[2];c=i[1]}else{c=i[1]}}if(!e){j=i[0];k=i[1]}}var f=true;if(i.length>=3){f=i[2];if(i[3]){f=i[3]}}this.each(function(){if(this.nodeName.toLowerCase()!="select"){return}if(d){c=0;for(var m=0;m<h.length;m++){var o=h[m];if(o.length>0){var n=o[0];var p="";if(o.length>1){p=o[1]}l(this,n,(f?(p!=""?n+" - "+p:p):p),g,c);c+=1}}}else{if(e){for(var n in h){var p=h[n];l(this,n,(f?(p!=""?n+" - "+p:p):p),g,c);c+=1}}else{l(this,j,(f?(k!=""?j+" -"+k:k):k),g,c)}}});return this};a.fn.ajaxAddOption=function(e,g,c,f,d){if(typeof(e)!="string"){return this}if(typeof(g)!="object"){g={}}if(typeof(c)!="boolean"){c=true}this.each(function(){var h=this;a.getJSON(e,g,function(i){a(h).addOption(i,c);if(typeof f=="function"){if(typeof d=="object"){f.apply(h,d)}else{f.call(h)}}})});return this};a.fn.removeOption=function(){var d=arguments;if(d.length==0){return this}var f=typeof(d[0]);var e,g;if(f=="string"||f=="object"||f=="function"){e=d[0];if(e.constructor==Array){var c=e.length;for(var h=0;h<c;h++){this.removeOption(e[h],d[1])}return this}}else{if(f=="number"){g=d[0]}else{return this}}this.each(function(){if(this.nodeName.toLowerCase()!="select"){return}if(this.cache){this.cache=null}var j=false;var m=this.options;if(!!e){var k=m.length;for(var l=k-1;l>=0;l--){if(e.constructor==RegExp){if(m[l].value.match(e)){j=true}}else{if(m[l].value==e){j=true}}if(j&&d[1]===true){j=m[l].selected}if(j){m[l]=null}j=false}}else{if(d[1]===true){j=m[g].selected}else{j=true}if(j){this.remove(g)}}});return this};a.fn.sortOptions=function(d){var e=a(this).selectedValues();var c=typeof(d)=="undefined"?true:!!d;this.each(function(){if(this.nodeName.toLowerCase()!="select"){return}var h=this.options;var f=h.length;var j=[];for(var g=0;g<f;g++){j[g]={v:h[g].value,t:h[g].text}}j.sort(function(k,i){o1t=k.t.toLowerCase(),o2t=i.t.toLowerCase();if(o1t==o2t){return 0}if(c){return o1t<o2t?-1:1}else{return o1t>o2t?-1:1}});for(var g=0;g<f;g++){h[g].text=j[g].t;h[g].value=j[g].v}}).selectOptions(e,true);return this};a.fn.selectOptions=function(f,d){var e=f;var h=typeof(f);if(h=="object"&&e.constructor==Array){var g=this;a.each(e,function(){g.selectOptions(this,d)})}var i=d||false;if(h!="string"&&h!="function"&&h!="object"){return this}this.each(function(){if(this.nodeName.toLowerCase()!="select"){return this}var k=this.options;var c=k.length;for(var j=0;j<c;j++){if(e.constructor==RegExp){if(k[j].value.match(e)){k[j].selected=true}else{if(i){k[j].selected=false}}}else{if(k[j].value==e){k[j].selected=true}else{if(i){k[j].selected=false}}}}});return this};a.fn.copyOptions=function(e,d){var c=d||"selected";if(a(e).size()==0){return this}this.each(function(){if(this.nodeName.toLowerCase()!="select"){return this}var h=this.options;var f=h.length;for(var g=0;g<f;g++){if(c=="all"||(c=="selected"&&h[g].selected)){a(e).addOption(h[g].value,h[g].text)}}});return this};a.fn.containsOption=function(f,d){var e=false;var c=f;var g=typeof(c);var h=typeof(d);if(g!="string"&&g!="function"&&g!="object"){return h=="function"?this:e}this.each(function(){if(this.nodeName.toLowerCase()!="select"){return this}if(e&&h!="function"){return false}var l=this.options;var j=l.length;for(var k=0;k<j;k++){if(c.constructor==RegExp){if(l[k].value.match(c)){e=true;if(h=="function"){d.call(l[k],k)}}}else{if(l[k].value==c){e=true;if(h=="function"){d.call(l[k],k)}}}}});return h=="function"?this:e};a.fn.selectedValues=function(){var c=[];this.selectedOptions().each(function(){c[c.length]=this.value});return c};a.fn.selectedTexts=function(){var c=[];this.selectedOptions().each(function(){c[c.length]=this.text});return c};a.fn.selectedOptions=function(){return this.find("option:selected")};function b(e,c,d){if("watch" in e){e.watch(c,d)}else{if("onpropertychange" in e){c=c.toLowerCase();e.onpropertychange=function(){if(window.event.propertyName.toLowerCase()===c){d.call(e)}}}else{var f=e[c];setInterval(function(){var g=e[c];if(f!==g){f=g;d.call(e)}},200)}}}a.widget("ui.selectbox",{_create:function(){var m=this.applySetting(this.options,this.element);this.options=jQuery.extend({},m,this.options);this.element.attr("readOnly",m.readOnly);var l=this,i=this.element.hide(),e=i.children(":selected"),j=e.val()?e.text():"";var h=this.input=a("<input>").val(j).autocomplete({delay:0,minLength:0,scroll:this.options.scroll,scrollWidth:this.options.scrollWidth,scrollHeight:this.options.scrollHeight,source:function(o,n){var p=new RegExp(a.ui.autocomplete.escapeRegex(o.term),"i");n(i.children("option").map(function(){var q=a(this).text();if(this.value&&(!o.term||p.test(q))){return{label:q.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+a.ui.autocomplete.escapeRegex(o.term)+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>"),value:q,option:this}}}))},select:function(n,o){o.item.option.selected=true;l._trigger("selected",n,{item:o.item.option})},change:function(o,p){if(!p.item){var q=new RegExp("^"+a.ui.autocomplete.escapeRegex(a(this).val())+"$","i"),n=false;i.children("option").each(function(){if(a(this).text().match(q)){this.selected=n=true;return false}});if(!n){a(this).val("");i.val("");h.data("autocomplete").term="";return false}}}}).removeClass("ui-autocomplete-input");h.attr("readOnly",this.options.readOnly);h.width(this.options.width?this.options.width:this.element.width());var d=this.options;h.data("autocomplete")._suggest=function(n){var o=this.menu.element.empty().zIndex(this.element.zIndex()+1),p,r;this._renderMenu(o,n);this.menu.refresh();this.menu.element.show().position({my:"left top",at:"left bottom",of:this.element,collision:"none"});o.css({maxHeight:"none",overflow:""});p=o.width("").width();r=this.element.width();o.width(Math.max(p,r));if((n.length>d.maxItems)&&this.options.scroll){o.scrollTop(0);o.css({maxHeight:this.options.scrollHeight,overflow:"auto"});var q=h.width()>this.options.scrollWidth?h.width()+18:this.options.scrollWidth;a("li",o).each(function(t,u){var s=a(this);s.css("width",q-24)});o.width(q)}};h.data("autocomplete")._renderItem=function(n,o){return a("<li class='jrivaly li-select-item-element'></li>").data("item.autocomplete",o).append("<a class='jrivaly select-item-element'>"+o.label+"</a>").appendTo(n)};var c=this.element.attr("id");b(document.getElementById(c),"value",function(){h.val(a(":selected",this).text());if(d.onChange){d.onChange(this)}});h.addClass("form-control input-md");var g=a('<div class="input-group"></div>').append(h).insertAfter(this.element);var k=a('<i class="fa fa-list" aria-hidden="true"></i>');var f=this.button=a('<a href="javascript:void(0);" class="jrivaly lookup-select-button-class input-group-addon" ID="LK'+c+'"></a>').attr("tabIndex",-1).attr("title","Show All Items").append(k).insertAfter(h).removeClass("ui-corner-all").addClass("ui-corner-right ui-button-icon").click(function(){if(f.attr("enabled")=="false"){return}if(h.autocomplete("widget").is(":visible")){h.autocomplete("close");return}h.autocomplete("search","");h.focus()});if(this.options.xmlData){this.composeXMLData(this.options.xmlData)}if(this.options.jsonData){a(this.element).removeOption(/./);a(this.element).addOption(this.options.jsonData,this.options.autoDefault,this.options.showKey)}this.populate()},applySetting:function(e,d){var c=jQuery.extend({width:0,scroll:true,scrollWidth:100,scrollHeight:225,maxItems:10,enabled:true,readOnly:false,autoDefault:false,showKey:false,autoResize:true,dataType:"xml",url:false,method:"GET",param:"",dynamicTag:"root row",itemIndex:[0,1],afterPopulate:function(g,f,h){},onChange:function(f){},onError:function(f){}},e);return c},composeJSONData:function(d){a(this.element).removeOption(/./);a(this.element).addOption(d,this.options.autoDefault,this.options.showKey);if(this.options.autoResize){var c=this.element.width();if(c<this.options.width){c=this.options.width}if(c>0){a(this.input).width(c)}}a(this.input).val(a(":selected",this.element).text())},composeXMLData:function(d){var e={};var c=this.options.itemIndex;a(this.options.dynamicTag,d).each(function(f,h){var i=this;var j=a(this).children();var g=jQuery.map(j.toArray(),function(l,k){return a(l).text()});e[g[c[0]]]=g[c[1]]});this.composeJSONData(e)},composeData:function(c){if(this.options.dataType=="xml"){this.composeXMLData(c)}else{if(this.options.dataType=="json"){this.composeJSONData(c)}}},rebind:function(){a(this.input).val(a(":selected",this.element).text())},populate:function(){var c=this;if(!this.options.url){return false}a.ajax({contentType:"application/x-www-form-urlencoded; charset=UTF-8",type:this.options.method,url:this.options.url,data:this.options.param,dataType:this.options.dataType,success:function(e,d,f){c.composeData(e);if(c.options.afterPopulate){c.options.afterPopulate(e,d,f)}},error:function(h,d,g){try{if(c.options.onError){c.options.onError(h,d,g)}}catch(f){}}})},_setOption:function(d,e){this.options[d]=e;if(d=="readOnly"){this.input.attr("readOnly",e);this.element.attr("readOnly",e)}if(d=="enabled"){this.button.attr("enabled",e);this.input.attr("enabled",e);this.element.attr("enabled",e)}if(d=="jsonData"){a(this.element).removeOption(/./);a(this.element).addOption(this.options.jsonData,this.options.autoDefault,this.options.showKey);if(this.options.autoResize){var c=this.element.width();if(c<this.options.width){c=this.options.width}if(c>0){a(this.input).width(c)}}}if(d=="xmlData"){this.composeXMLData(this.options.xmlData)}if(d=="width"){this.input.css("width",e)}if(d=="height"){this.input.css("height",e)}if(d=="rebind"){this.rebind()}},destroy:function(){this.input.remove();this.button.remove();this.element.show();a.Widget.prototype.destroy.call(this)}});a.fn.rebindSelect=function(c){return this.each(function(){if(this.rebind){this.rebind()}})}})(jQuery);