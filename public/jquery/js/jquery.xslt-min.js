(function(c){c.fn.xslt=function(){return this};c.transform=function(e,f){if(document.recalc){return e.transformNode(f)}else{if(window.ActiveXObject||"ActiveXObject" in window){return e.transformNode(f)}else{if(window.DOMParser!=undefined&&window.XMLHttpRequest!=undefined&&window.XSLTProcessor!=undefined){var g=new XSLTProcessor();if(c.isFunction(g.transformDocument)){a=window.XMLSerializer!=undefined;if(a){resultDoc=document.implementation.createDocument("","",null);g.transformDocument(e,f,resultDoc,null);strDoc=new XMLSerializer().serializeToString(resultDoc);return strDoc}}else{g.importStylesheet(f);resultDoc=g.transformToFragment(e,document);return resultDoc}}}}return""};var d=/^\s*</;if(document.recalc||(window.ActiveXObject||"ActiveXObject" in window)){c.fn.xslt=function(k,e,l,r,m){var o=c(this);var h=false;var n={readyState:4};var g={readyState:4};var q=function(){if(n.readyState==4&&g.readyState==4&&!h){var p=c.transform(n.responseXML,g.responseXML);o.html(p);h=true;if(m){m()}}};var i=false;var j=d.test(k);var s=d.test(e);if(j){n.responseXML=c.parseXML(k);i=true}if(s){g.responseXML=c.parseXML(e);if(i){q()}i=true}if(!j){var f=c.extend({},{dataType:"xml",url:k,cache:false,error:function(u,p,t){alert(t)},success:function(t,p,u){n.responseXML=c.parseXML(c.trim(u.responseText));if(i){q()}i=true}},l||{});n=c.ajax(f)}if(!s){var f=c.extend({},{dataType:"xml",url:e,cache:false,error:function(u,p,t){alert(t)},success:function(t,p,u){g.responseXML=c.parseXML(c.trim(u.responseText));if(i){q()}i=true}},r||{});g=c.ajax(f)}return this}}else{if(window.DOMParser!=undefined&&window.XMLHttpRequest!=undefined&&window.XSLTProcessor!=undefined){var b=new XSLTProcessor();var a=false;if(c.isFunction(b.transformDocument)){a=window.XMLSerializer!=undefined}else{a=true}if(a){c.fn.xslt=function(k,e,l,r,m){var o=c(this);var h=false;var n={readyState:4};var g={readyState:4};var q=function(){if(n.readyState==4&&g.readyState==4&&!h){o.html(c.transform(n.responseXML,g.responseXML));h=true;if(m){m()}}};var i=false;var j=d.test(k);var s=d.test(e);if(j){n.responseXML=c.parseXML(k);i=true}if(s){g.responseXML=c.parseXML(e);if(i){q()}i=true}if(!j){var f=c.extend({},{dataType:"xml",url:k,cache:false,error:function(u,p,t){alert(t)},success:function(t,p,u){n.responseXML=t;if(i){q()}i=true}},l||{});n=c.ajax(f)}if(!s){var f=c.extend({},{dataType:"xml",url:e,cache:false,error:function(u,p,t){alert(t)},success:function(t,p,u){g.responseXML=t;if(i){q()}i=true}},r||{});g=c.ajax(f)}return this}}}}})(jQuery);